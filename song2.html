<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>House of Prayer Christmas Songs</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
/* ===== EXISTING STYLES (unchanged) ===== */
*{margin:0;padding:0;box-sizing:border-box}
body{
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;
  background:#1a1a2e;color:#fff;
  display:flex;justify-content:center;
  padding:20px;margin:15px
}
.player-container{
  background:#16213e;border-radius:16px;
  border:1.5px dashed white;
  width:100%;max-width:600px;
  padding:24px;box-shadow:0 8px 32px rgba(0,0,0,.4)
}
.tabs{display:flex;gap:8px;padding:.5rem;border:1.5px dashed white;border-radius:1rem;margin-bottom:24px}
.tab{
  flex:1;padding:10px;background:#0f1624;border:none;border-radius:8px;
  color:#7f8c9f;font-size:16px;min-height:44px;
  display:flex;align-items:center;justify-content:center;gap:6px
}
.tab.active{background:#e94560;color:#fff}
.playlist{max-height:300px;overflow-y:auto;border:1.5px dashed white;border-radius:1rem;margin-bottom:24px}
.track{display:flex;align-items:center;padding:12px;border-radius:8px;cursor:pointer}
.track.active{background:rgba(233,69,96,.2)}
.track-num{width:24px;height:24px;background:#0f1624;border-radius:6px;display:flex;align-items:center;justify-content:center;margin-right:12px}
.track.active .track-num{background:#e94560}
.track-name{font-size:16px}

.now-playing{text-align:center;margin-bottom:12px}
.now-playing-title{font-size:18px}
.now-playing-type{font-size:14px;color:#7f8c9f}

.progress-bar{height:6px;background:#0f1624;border-radius:3px;margin-bottom:6px}
.progress{height:100%;background:#e94560;width:0%}

.time{display:flex;justify-content:space-between;font-size:14px;color:#7f8c9f;margin-bottom:12px}

.buttons{display:flex;justify-content:center;gap:20px;margin-bottom:16px}
.btn{background:none;border:none;color:#fff;font-size:28px;min-width:52px;min-height:52px}
.btn-play{width:60px;height:60px;background:#e94560;border-radius:50%}

.volume-control{display:flex;align-items:center;gap:12px}
.volume-slider{flex:1;height:6px;background:#0f1624;border-radius:3px}

/* ===== ðŸ”¥ NEW: EQUALIZER STYLES ===== */
.equalizer{
  display:flex;
  justify-content:center;
  gap:4px;
  height:40px;
  margin:12px 0;
}
.eq-bar{
  width:6px;
  background:#e94560;
  border-radius:4px 4px 0 0;
  height:20%;
  transition:height .08s linear;
}
</style>
</head>

<body>

<div class="player-container">

  <div class="tabs">
    <button class="tab active" onclick="switchTab('audio')"><i class="fas fa-music"></i> Audio</button>
    <button class="tab" onclick="switchTab('tracks')"><i class="fas fa-list"></i> Tracks</button>
  </div>

  <div class="playlist" id="audioList"></div>
  <div class="playlist hidden" id="tracksList"></div>

  <div class="controls">

    <div class="now-playing">
      <div class="now-playing-title" id="nowPlaying">Select a song</div>
      <div class="now-playing-type" id="nowPlayingType">â€”</div>
    </div>

    <!-- ðŸ”¥ NEW: EQUALIZER HTML -->
    <div class="equalizer" id="equalizer">
      <div class="eq-bar"></div><div class="eq-bar"></div><div class="eq-bar"></div>
      <div class="eq-bar"></div><div class="eq-bar"></div><div class="eq-bar"></div>
      <div class="eq-bar"></div><div class="eq-bar"></div><div class="eq-bar"></div>
      <div class="eq-bar"></div>
    </div>

    <div class="progress-bar"><div class="progress" id="progress"></div></div>

    <div class="time">
      <span id="currentTime">0:00</span>
      <span id="duration">0:00</span>
    </div>

    <div class="buttons">
      <button class="btn" onclick="prev()"><i class="fas fa-step-backward"></i></button>
      <button class="btn btn-play" onclick="toggle()"><i class="fas fa-play" id="playIcon"></i></button>
      <button class="btn" onclick="next()"><i class="fas fa-step-forward"></i></button>
    </div>

    <div class="volume-control">
      <i class="fas fa-volume-up"></i>
      <input type="range" class="volume-slider" min="0" max="100" value="80" oninput="setVolume(this.value)">
    </div>

  </div>
</div>

<audio id="audio"></audio>

<script>
/* ===== AUDIO + EQUALIZER LOGIC ===== */
const audio = document.getElementById('audio');
const eqBars = document.querySelectorAll('.eq-bar');

const AudioContext = window.AudioContext || window.webkitAudioContext;
const audioCtx = new AudioContext();
const source = audioCtx.createMediaElementSource(audio);
const analyser = audioCtx.createAnalyser();

analyser.fftSize = 64;
source.connect(analyser);
analyser.connect(audioCtx.destination);

const dataArray = new Uint8Array(analyser.frequencyBinCount);

function animateEQ(){
  analyser.getByteFrequencyData(dataArray);
  eqBars.forEach((bar,i)=>{
    bar.style.height = Math.max(10, dataArray[i]/2) + '%';
  });
  requestAnimationFrame(animateEQ);
}
animateEQ();

/* ===== YOUR EXISTING PLAYER LOGIC ===== */
let playing=false,current=0,activeTab='audio';

const data={
  audio:[
    {name:'à°…à°‚à°¦à°¾à°² à°¤à°¾à°°',url:'https://pub-43e3b530db1540f4a16cdacc0e749843.r2.dev/temp-audios/%E0%B0%85%E0%B0%82%E0%B0%A6%E0%B0%BE%E0%B0%B2%20%E0%B0%A4%E0%B0%BE%E0%B0%B0_Audio.mp3'},
    {name:'à°œà°¨à±à°®à°¿à°‚à°šà°¿à°¨à°¾à°¡à± à°¶à±à°°à±€ à°¯à±‡à°¸à±',url:'https://pub-43e3b530db1540f4a16cdacc0e749843.r2.dev/temp-audios/%E0%B0%85%E0%B0%82%E0%B0%A6%E0%B0%BE%E0%B0%B2%20%E0%B0%A4%E0%B0%BE%E0%B0%B0_Audio.mp3'}
  ],
  tracks:[
    {name:'à°…à°‚à°¦à°¾à°² à°¤à°¾à°°',url:'YOUR_TRACK_URL_1'},
    {name:'à°œà°¨à±à°®à°¿à°‚à°šà°¿à°¨à°¾à°¡à± à°¶à±à°°à±€ à°¯à±‡à°¸à±',url:'YOUR_TRACK_URL_2'}
  ]
};

function render(){
  audioList.innerHTML=data.audio.map((t,i)=>trackHTML(t,i,'audio')).join('');
  tracksList.innerHTML=data.tracks.map((t,i)=>trackHTML(t,i,'tracks')).join('');
}
function trackHTML(t,i,type){
  return `<div class="track" onclick="play(${i},'${type}')">
    <div class="track-num">${i+1}</div>
    <div class="track-name">${t.name}</div>
  </div>`;
}
function play(i,tab){
  current=i;activeTab=tab;
  audio.src=data[tab][i].url;
  audio.play();playing=true;
  playIcon.className='fas fa-pause';
  nowPlaying.textContent=data[tab][i].name;
  nowPlayingType.textContent=tab;
}
function toggle(){
  if(!audio.src)return;
  playing?audio.pause():audio.play();
  playing=!playing;
  playIcon.className=playing?'fas fa-pause':'fas fa-play';
}
function prev(){if(current>0)play(current-1,activeTab)}
function next(){if(current<data[activeTab].length-1)play(current+1,activeTab)}
function setVolume(v){audio.volume=v/100}

render();
audio.volume=.8;
</script>

</body>
</html>
